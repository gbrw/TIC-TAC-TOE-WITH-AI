<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุนุจุฉ X O ุงููุชูุฏูุฉ - ุงูููุงูู</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <div class="container">
        <!-- Player Name Setup -->
        <div class="player-setup" id="playerSetup">
            <div class="setup-content">
                <h2>๐ฎ ูุฑุญุจุงู ุจู ูู ูุนุจุฉ X O</h2>
                <p class="subtitle">ุฃุฏุฎู ุงุณูู ููุจุฏุก ูู ุงููุนุจ</p>
                <div class="input-group">
                    <input type="text" id="playerNameInput" placeholder="ุฃุฏุฎู ุงุณูู" maxlength="20" autocomplete="off">
                    <button id="setNameBtn">ุชุฃููุฏ</button>
                </div>
                <div class="loading" id="nameLoading" style="display: none;">
                    <div class="spinner"></div>
                    <span>ุฌุงุฑู ุงูุชุญููู...</span>
                </div>
            </div>
        </div>

        <!-- Main Menu -->
        <div class="main-menu" id="mainMenu" style="display: none;">
            <header>
                <h1 class="game-title">๐ฎ ูุนุจุฉ X O ุงููุชูุฏูุฉ</h1>
                <div class="player-info">
                    <span>ูุฑุญุจุงูุ </span>
                    <span id="currentPlayerName"></span>
                </div>
            </header>

            <div class="menu-options">
                <button class="menu-btn" id="createRoomBtn">
                    <span class="btn-icon">๐</span>
                    <span class="btn-text">ุฅูุดุงุก ุบุฑูุฉ</span>
                    <span class="btn-desc">ุงุจุฏุฃ ูุนุจุฉ ุฌุฏูุฏุฉ</span>
                </button>
                <button class="menu-btn" id="joinRoomBtn">
                    <span class="btn-icon">๐ช</span>
                    <span class="btn-text">ุงูุงูุถูุงู ูุบุฑูุฉ</span>
                    <span class="btn-desc">ุงูุถู ููุนุจ ูุน ุงูุฃุตุฏูุงุก</span>
                </button>
                <button class="menu-btn" id="localGameBtn">
                    <span class="btn-icon">๐ฅ</span>
                    <span class="btn-text">ูุนุจ ูุญูู</span>
                    <span class="btn-desc">ูุงุนุจ ุถุฏ ูุงุนุจ</span>
                </button>
                <button class="menu-btn" id="aiGameBtn">
                    <span class="btn-icon">๐ค</span>
                    <span class="btn-text">ูุนุจ ุถุฏ ุงูููุจููุชุฑ</span>
                    <span class="btn-desc">ุชุญุฏู ุงูุฐูุงุก ุงูุงุตุทูุงุนู</span>
                </button>
            </div>
        </div>

        <!-- Room Setup -->
        <div class="room-setup" id="roomSetup" style="display: none;">
            <div class="setup-content">
                <h2 id="roomSetupTitle">ุงูุงูุถูุงู ูุบุฑูุฉ</h2>
                <div class="input-group">
                    <input type="text" id="roomCodeInput" placeholder="ุฑูุฒ ุงูุบุฑูุฉ" maxlength="6" autocomplete="off">
                    <button id="joinRoomConfirmBtn">ุงูุถูุงู</button>
                </div>
                <div class="loading" id="roomLoading" style="display: none;">
                    <div class="spinner"></div>
                    <span>ุฌุงุฑู ุงูุงูุถูุงู...</span>
                </div>
                <button class="back-btn" id="backToMenuBtn">ุงูุนูุฏุฉ ูููุงุฆูุฉ ุงูุฑุฆูุณูุฉ</button>
            </div>
        </div>

        <!-- Game Area -->
        <div class="game-area" id="gameArea" style="display: none;">
            <header>
                <h1 class="game-title">๐ฎ ูุนุจุฉ X O</h1>
                <div class="room-info" id="roomInfo" style="display: none;">
                    <span>ุฑูุฒ ุงูุบุฑูุฉ: </span>
                    <span id="roomCode"></span>
                    <button id="copyRoomCode" title="ูุณุฎ ุฑูุฒ ุงูุบุฑูุฉ">๐</button>
                </div>
                
                <div class="score-board">
                    <div class="player-score">
                        <span class="score-label" id="playerXName">ุงููุงุนุจ X</span>
                        <span class="score" id="scoreX">0</span>
                    </div>
                    <div class="player-score">
                        <span class="score-label" id="playerOName">ุงููุงุนุจ O</span>
                        <span class="score" id="scoreO">0</span>
                    </div>
                    <div class="player-score">
                        <span class="score-label">ุงูุชุนุงุฏู</span>
                        <span class="score" id="scoreTie">0</span>
                    </div>
                </div>
            </header>

            <main>
                <div class="game-modes" id="localGameModes" style="display: none;">
                    <button class="mode-btn active" id="pvpMode">ูุงุนุจ ุถุฏ ูุงุนุจ</button>
                    <button class="mode-btn" id="pvcMode">ูุงุนุจ ุถุฏ ุงูููุจููุชุฑ</button>
                </div>

                <div class="difficulty-selector" id="difficultySelector" style="display: none;">
                    <label>ูุณุชูู ุงูุตุนูุจุฉ:</label>
                    <select id="difficulty">
                        <option value="easy">ุณูู</option>
                        <option value="medium">ูุชูุณุท</option>
                        <option value="hard">ุตุนุจ</option>
                    </select>
                </div>

                <div class="online-status" id="onlineStatus" style="display: none;">
                    <div class="status-info">
                        <span id="gameStatusText">ูู ุงูุชุธุงุฑ ุจุฏุก ุงููุนุจุฉ...</span>
                        <button id="startGameBtn" style="display: none;">ุจุฏุก ุงููุนุจุฉ</button>
                    </div>
                    <div class="players-list" id="playersList"></div>
                </div>

                <div class="game-status">
                    <div class="current-player">
                        <span id="currentPlayerText">ุฏูุฑ ุงููุงุนุจ</span>
                        <span class="player-symbol" id="currentPlayerSymbol">X</span>
                    </div>
                    <div class="game-controls">
                        <button class="control-btn" id="resetBtn">๐ ุฅุนุงุฏุฉ ุชุดุบูู</button>
                        <button class="control-btn" id="leaveRoomBtn" style="display: none;">๐ช ูุบุงุฏุฑุฉ ุงูุบุฑูุฉ</button>
                        <button class="control-btn" id="backToMenuFromGameBtn">๐ ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ</button>
                    </div>
                </div>

                <div class="game-board" id="gameBoard">
                    <div class="cell" data-index="0"></div>
                    <div class="cell" data-index="1"></div>
                    <div class="cell" data-index="2"></div>
                    <div class="cell" data-index="3"></div>
                    <div class="cell" data-index="4"></div>
                    <div class="cell" data-index="5"></div>
                    <div class="cell" data-index="6"></div>
                    <div class="cell" data-index="7"></div>
                    <div class="cell" data-index="8"></div>
                </div>

                <!-- Online Chat -->
                <div class="chat-section" id="chatSection" style="display: none;">
                    <div class="chat-header">
                        <h3>๐ฌ ุงูุฏุฑุฏุดุฉ</h3>
                        <button id="toggleChat">ุฅุฎูุงุก</button>
                    </div>
                    <div class="chat-messages" id="chatMessages"></div>
                    <div class="chat-input">
                        <input type="text" id="chatInput" placeholder="ุงูุชุจ ุฑุณุงูุฉ..." maxlength="100">
                        <button id="sendChatBtn">ุฅุฑุณุงู</button>
                    </div>
                </div>
            </main>
        </div>

        <!-- Game Result Modal -->
        <div class="game-result" id="gameResult">
            <div class="result-content">
                <div class="result-icon" id="resultIcon">๐</div>
                <div class="result-text" id="resultText">ุงููุงุนุจ X ูุงุฒ!</div>
                <div class="result-buttons">
                    <button class="play-again-btn" id="playAgainBtn">ูุนุจ ูุฑุฉ ุฃุฎุฑู</button>
                    <button class="new-game-btn" id="newGameBtn">ูุนุจุฉ ุฌุฏูุฏุฉ</button>
                </div>
            </div>
        </div>
    </div>

    <div class="particles" id="particles"></div>
    <div class="notifications" id="notifications"></div>
    
    <script src="online-game.js"></script>
    <script src="script.js"></script>
</body>
</html>